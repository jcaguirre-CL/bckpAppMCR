(function(){'use strict';angular.module('app',['ngRoute','ngCookies','720kb.datepicker','ng-fusioncharts','ngRoute']).config(config).run(run);config.$inject=['$routeProvider','$locationProvider'];function config($routeProvider,$locationProvider){$routeProvider.when('/home',{controller:'HomeController',templateUrl:'home.view.html',controllerAs:'home'}).when('/ingresarRegistro',{controller:'ingresarRegistroController',templateUrl:'ingresarRegistro.view.html',controllerAs:'ingresarRegistro'}).when('/notificarRegistro',{controller:'notificarRegistroController',templateUrl:'notificarRegistro.view.html',controllerAs:'notificarRegistro'}).when('/generarGrafico',{controller:'generarGraficoController',templateUrl:'generarGrafico.view.html',controllerAs:'generarGrafico'}).when('/login',{controller:'LoginController',templateUrl:'login.view.html',controllerAs:'vm'}).when('/crearUsuarios',{controller:'RegisterController',templateUrl:'register.view.html',controllerAs:'vm'}).when('/configurarCampos',{controller:'configurarCamposController',templateUrl:'configurarCampos.view.html',controllerAs:'configurarCampos'}).otherwise({redirectTo:'/login'})}
run.$inject=['$rootScope','$location','$cookieStore','$http','$sce'];function run($rootScope,$location,$cookieStore,$http,$sce){$rootScope.globals=$cookieStore.get('globals')||{};if($rootScope.globals.currentUser){$http.defaults.headers.common.Authorization='Basic '+$rootScope.globals.currentUser.authdata}
$rootScope.$on('$locationChangeStart',function(event,next,current){var restrictedPage=$.inArray($location.path(),['/login','/register'])===-1;var loggedIn=$rootScope.globals.currentUser;if(restrictedPage&&!loggedIn){$location.path('/login')}});$rootScope.trustSrc=function(src){return $sce.trustAsResourceUrl(src)}}})()
