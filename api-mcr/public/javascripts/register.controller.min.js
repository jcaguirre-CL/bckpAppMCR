(function(){'use strict';angular.module('app').controller('RegisterController',RegisterController);RegisterController.$inject=['UserService','$location','$rootScope','FlashService'];function RegisterController(UserService,$location,$rootScope,FlashService){var vm=this;vm.allUsers=[];vm.deleteUser=deleteUser;vm.register=register;loadAllUsers();function register(){vm.dataLoading=!0;UserService.Create(vm.user).then(function(response){if(response.success){FlashService.Success('Creacion de usuario OK',!0);$location.path('/crearUsuarios');vm.dataLoading=!1;loadAllUsers()}else{FlashService.Error(response.message);vm.dataLoading=!1}})}
function loadAllUsers(){UserService.GetAll().then(function(users){vm.allUsers=JSON.parse(JSON.stringify(users)).data})}
function deleteUser(username){UserService.Delete(username).then(function(){loadAllUsers()})}
$(function(){var links=$('.sidebar-links > div');links.on('click',function(){links.removeClass('selected');$(this).addClass('selected')})})}})()
